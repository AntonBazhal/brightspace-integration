@import '../bower_components/vui-colors/colors.scss';
@import '../bower_components/vui-typography/px-to-base-rem.scss';
@import '../bower_components/vui-loading-spinner/loadingSpinner.scss';

$dialog-media-break-small: "(max-device-width: 767px), screen and (max-width:767px)";
$dialog-media-break-small-iframe: "(max-device-width: 767px)";
$dialog-background-color: #fff;
$dialog-close-icon: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAACVBMVEX///98fHy9vb02RwSKAAAAAXRSTlMAQObYZgAAADZJREFUCB0FwTENACAMALCOhAMDOMDHJOzkRAoiEEwLABC3pTgj2QvzoRfGwdp4k1b9iowEAHzpNgXTV0Ym1gAAAABJRU5ErkJggg==");

@mixin _dialog-animation_slide-from-top($state:"open"){

	animation: {
		duration: 0.5s;
		timing-function: linear;
		name: if($state=="open", dialog-slide-in-from-top-open, dialog-slide-in-from-top-close);

	}
	top:  if($state=="open", 70px, -1000px);

	@keyframes dialog-slide-in-from-top-open {
		from { top: -1000px; }
		to   { top: 70px; }
	}
	@keyframes dialog-slide-in-from-top-close {
		from { top: 70px; }
		to   { top: -1000px; }
	}
}

@mixin _dialog-animation_slide-from-bottom($state:"open"){

	animation: {
		duration: 0.3s;
		timing-function: linear;
		name: if($state=="open", dialog-slide-in-from-bottom-open, dialog-slide-in-from-bottom-close);
	}
	top: if($state=="open", 0, 100%);

	@keyframes dialog-slide-in-from-bottom-open {
		from { top: 100%; }
		to   { top: 0; }
	}

	@keyframes dialog-slide-in-from-bottom-close {
		from { top: 0; }
		to { top: 100% }
	}
}


.d2l-dialog-loading {
	@include _dialog-animation_slide-from-top($state:"open");

	@media #{$dialog-media-break-small} {
		@include _dialog-animation_slide-from-bottom($state:"open");
	}
}

.d2l-dialog-closing {
	@include _dialog-animation_slide-from-top($state:"close");

	@media #{$dialog-media-break-small} {
		@include _dialog-animation_slide-from-bottom($state:"close");
	}
}

.d2l-dialog {
	@media #{$dialog-media-break-small} {
		width: 100% !important;
		height: 100% !important;
		left: auto !important;
		padding: 0 !important;
		top: 0 !important;
	}
}

.d2l-dialog-inner {
	background-color: $dialog-background-color;
	border: 1px solid $vui-color-titanius;
	border-radius: px-to-base-rem(8);
	box-shadow: 0 2px 12px rgba(86,90,92,0.25);
	padding: px-to-base-rem(30);

	@media #{$dialog-media-break-small} {
		border-radius: 0 !important;
		width: 100% !important;
		height: 100% !important;

		& > iframe {
			width: 100% !important;
		}
	}
}

.d2l-dialog-footer .vui-button {
	margin-top: px-to-base-rem(10);
}

.d2l-dialog-footer .d2l-dialog-resize {
	@media #{$dialog-media-break-small-iframe}{
		display: none !important;
	}
}

.d2l-dialog-document-body {
	background-color: transparent;
	height: 100%;
}

.d2l-dialog-footer {
	min-height: calc(2rem + 2px);
}

.d2l-dialog-close {
	border-top-right-radius: px-to-base-rem(6);
	height: calc(2rem + 2px);
	width: calc(2rem + 2px);

	[dir='rtl'] & {
		border-top-left-radius: px-to-base-rem(6);
	}

	& > span {
		width: 100%;
		height: 100%;
		display: block;
		background: {
			image: $dialog-close-icon;
			position: 100% 0;
			repeat: no-repeat;
		}

		[dir='rtl'] & {
			background-position: 0 0;
		}
	}
}
